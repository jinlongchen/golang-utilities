package geojson

import (
	"fmt"
	"testing"
)

func TestPreload(t *testing.T) {
	Preload()
}
func TestFindGeoFeatureByAddCode(t *testing.T) {
	Preload()
	x := FindGeoFeatureByAddCode(510000)
	fmt.Println(x)
}
func TestConvertCoordinates(t *testing.T) {
	x := `{"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[120.28501510620117,30.2985370874141],[120.28636693954466,30.298759407982576],[120.2905511856079,30.29859266760347],[120.30436992645262,30.293553269043045],[120.30966997146606,30.289069468813437],[120.31097888946532,30.2892732823614],[120.31327486038207,30.28916211138775],[120.31726598739623,30.287327772132002],[120.32217979431151,30.283084573128505],[120.33563375473021,30.27139166485842],[120.34677028656006,30.263737707556317],[120.35067558288574,30.2634041074699],[120.35071849822998,30.26295930559166],[120.35934448242188,30.263329973963433],[120.36217689514159,30.264441970683485],[120.36848545074463,30.26848211943128],[120.37270188331603,30.27239238029706],[120.37465453147888,30.27444010879461],[120.37625312805176,30.276524856363352],[120.37861347198485,30.279934481386384],[120.38073778152466,30.28447428733503],[120.38295328617096,30.289004618959353],[120.39045810699461,30.304984179240755],[120.39916992187499,30.323619077413664],[120.40080070495605,30.330509016942763],[120.42285919189455,30.380131886953297],[120.39547920227051,30.394495599764554],[120.37153244018553,30.389313060289677],[120.34887313842773,30.379909751104847],[120.3317928314209,30.373837842423747],[120.32286643981932,30.371394162984508],[120.31557083129881,30.370357432042177],[120.31299591064452,30.370357432042177],[120.31222343444823,30.366506620871316],[120.30956268310545,30.36376652827535],[120.30475616455078,30.360507939850336],[120.30072212219238,30.357767679190857],[120.29814720153809,30.355101405951],[120.29505729675292,30.3499167777479],[120.29299736022949,30.346065161818082],[120.29213905334473,30.34325042354528],[120.29196739196776,30.33939854526374],[120.29149532318115,30.336102105998044],[120.2896499633789,30.330509016942763],[120.28904914855957,30.32787904345712],[120.28904914855957,30.322433662608873],[120.28831958770752,30.317951183212276],[120.28722524642944,30.313264735478924],[120.28625965118408,30.309559875095765],[120.28572320938109,30.306632936371162],[120.28497219085693,30.300723217778742],[120.28501510620117,30.2985370874141]]]}}]}`
	y := ConvertCoordinates(x, "WGS84", "GCJ02")
	println(y)
}